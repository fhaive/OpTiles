% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cpg_and_gene_annotation.R
\name{map_regions_to_regions}
\alias{map_regions_to_regions}
\title{Map Genomic Regions to Annotated Regions and Calculate Overlap Statistics}
\usage{
map_regions_to_regions(regions_to_map, annotation)
}
\arguments{
\item{regions_to_map}{A `data.frame` containing genomic regions to be mapped. Must include a `region_id` 
column in the format `"chrN:start-end"` (e.g., `"chr1:100-200"`).}

\item{annotation}{A `data.frame` containing annotated regions. Must include a `location` column in 
the same `"chrN:start-end"` format.}
}
\value{
A `list` with two elements:
\describe{
  \item{`annotated_df`}{A `data.table` with overlaps between input regions and annotations, including: 
  \code{annotation_regions}, \code{merged_region}, \code{overlap_bp}, \code{pct_tile}, 
  \code{pct_merged}, and \code{overlap_window}.}
  \item{`overlap_regions`}{A `data.frame` containing the genomic coordinates of the overlapping regions.}
}
}
\description{
This function maps a set of genomic regions (e.g., CpG tiles or peaks) to annotated genomic regions 
(e.g., genes, enhancers) based on coordinate overlaps, and computes overlap lengths and percentages.
}
\details{
The function:
\enumerate{
  \item Parses region coordinates from `chr:start-end` format.
  \item Converts input data to `GRanges` objects.
  \item Identifies overlapping regions using \code{\link[GenomicRanges]{findOverlaps}}.
  \item Computes the width of overlap and its percentage with respect to both input and annotation regions.
  \item Returns a table of overlaps and summarized information.
}
}
\examples{
\dontrun{
regions_to_map <- data.frame(region_id = c("chr1:100-200", "chr1:150-250"))
annotation <- data.frame(location = c("chr1:180-300", "chr1:50-120"))
result <- map_regions_to_regions(regions_to_map, annotation)
print(result$annotated_df)
}

}
