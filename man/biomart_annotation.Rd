% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cpg_and_gene_annotation.R
\name{biomart_annotation}
\alias{biomart_annotation}
\title{Retrieve and Annotate Gene Regions Using BioMart}
\usage{
biomart_annotation(
  biomart_database,
  biomart_dataset,
  chromosome_vector,
  selected_attributes,
  attributes_page,
  gene_biotype,
  filter_gene_biotype,
  promoter_distance = NA
)
}
\arguments{
\item{biomart_database}{A string specifying the BioMart database to use (e.g., \code{"ensembl"}).}

\item{biomart_dataset}{A string specifying the dataset within the BioMart database (e.g., \code{"hsapiens_gene_ensembl"}).}

\item{chromosome_vector}{A character vector specifying the chromosomes to filter (e.g., \code{c("1", "2", "X")}).}

\item{selected_attributes}{A character vector of attributes to retrieve from BioMart.}

\item{attributes_page}{A character string specifying the attribute page from which to select attributes.}

\item{gene_biotype}{A string specifying the gene biotype filter (e.g., \code{"protein_coding"}).}

\item{filter_gene_biotype}{A character vector of gene biotypes to filter.}

\item{promoter_distance}{A numeric vector of length 2 specifying the upstream and downstream distances 
to define the promoter region.}
}
\value{
A dataframe with annotated gene regions, including:
  \itemize{
    \item \code{gene} - Gene symbol
    \item \code{location} - Genomic location (formatted as chr:start-end)
    \item \code{gene_loci} - Type of region (e.g., entire_gene, 5UTR, 3UTR, exon#, promoter)
    \item \code{strand} - Strand information
  }
}
\description{
This function retrieves gene annotation data from the Ensembl BioMart database, merges the results, 
and extracts specific gene regions such as promoters, UTRs, exons, and entire genes.
}
\details{
The function performs the following steps:
\enumerate{
  \item Downloads gene annotation data from the specified BioMart database using \code{download_biomart_annotation()}.
  \item Identifies common attributes across retrieved datasets and merges them into a single dataframe.
  \item Extracts specific gene regions using \code{extract_gene_regions()}.
}
}
\examples{
\dontrun{
biomart_annotation(
  biomart_database = "ensembl",
  biomart_dataset = "hsapiens_gene_ensembl",
  chromosome_vector = c("1", "2", "X"),
  selected_attributes = c("hgnc_symbol", "chromosome_name", "start_position"),
  attributes_page = "feature_page",
  gene_biotype = "protein_coding",
  filter_gene_biotype = c("protein_coding"),
  promoter_distance = c(-2000, 500)
)
}

}
